
# DM_homework

## Алгоритмы на графах на Prolog
### Репозиторий содержит реализацию основного алгоритма работы с графами на языке Prolog.

### Реализованные алгоритмы:
1) Поиск в глубину (DFS)
- Классический обход графа в глубину
- Возвращает узлы в порядке посещения
- Работает с связными и несвязными графами
----
2) Поиск циклов
- Возвращает первый найденный цикл

## Примеры использования
#### DFS

```Prolog
% Загрузка модуля
:- [dfs].

% Пример графа
Graph = [(1,2),(2,3),(1,4)].

% Запуск DFS начиная с узла 1
dfs(1, Graph, Result).
% Result = [1,2,3,4]
```

#### Поиск циклов
```Prolog
% Загрузка модуля
:- [cycle_detection].

% Пример графа с циклом
Graph = [(1,2),(2,3),(3,1)].

% Поиск цикла
find_cycle(Graph, Cycle).
% Cycle = [1,2,3,1]
```

#### Тестирование
```Prolog
% Запуск всех тестов
run_tests.

% Запуск конкретных тестов
run_tests(dfs).
run_tests(cycle_detection).
```
---
### Структура тестов
```Prolog
:- ensure_loaded('dfs.pl').            % Загрузка модуля с реализацией DFS
:- use_module(library(plunit)).        % Подключение библиотеки тестирования

% Основная предикат для запуска тестов
run_dfs_test(Graph, N, Expected) :-
    length(Visited, N),                % Инициализация списка посещенных вершин
    maplist(=(not_visited), Visited),  % Помечаем все вершины как не посещенные
    dfs(1, N, Graph, Visited, Result), % Запуск DFS
    
    % Проверка результата
    (   permutation(Expected, Result)  % Проверка с учетом возможных перестановок
    ->  format('PASSED: ~w -> ~w~n', [Graph, Result]) % Успешный тест
    ;   format('FAILED: ~w | Expected: ~w, Got: ~w~n', [Graph, Expected, Result]),
        fail                           % Неудачный тест
    ).

:- begin_tests(dfs).                   % Начало блока тестов
...
:- end_tests(dfs).                     % Конец блока тестов
```
